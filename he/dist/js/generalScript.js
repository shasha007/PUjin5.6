function uploadID(e){var t=document.getElementById("idArea"),n=e.files[0];if(console.log(n),!/image\/\w+/.test(n.type))return alert("请确保文件为图像类型"),!1;var s=new FileReader;s.readAsDataURL(n),s.onload=function(e){var n=document.createElement("img");n.src=this.result,t.innerHTML="",t.appendChild(n)}}function setPassword(e){if(e.getAttribute("data-inputable")){var t=document.getElementById("keyboard");t.style.bottom=0;for(var n=0;n<t.getElementsByTagName("td").length;n++)t.getElementsByTagName("td")[n].addEventListener("touchstart",set)}}function set(){var e=document.getElementById("keyboard");if(this.getAttribute("data-delete"))str=str.substring(0,str.length-1),pw.getElementsByTagName("li")[str.length].innerText="";else if(str+=this.innerText,str.length>6){pw.setAttribute("data-pw",str.substring(0,str.length-1)),str=str.charAt(str.length-1),pw=document.getElementById("a_password");for(var t=0;t<str.length;t++)pw.getElementsByTagName("li")[t].innerText="•"}else{6==str.length&&"a_password"==pw.getAttribute("id")&&(e.style.bottom="-222px",pw.setAttribute("data-pw",str),document.getElementById("setNext").addEventListener("touchstart",testingPassword));for(var t=0;t<str.length;t++)pw.getElementsByTagName("li")[t].innerText="•"}}function testingPassword(){if(document.getElementById("a_password").getAttribute("data-pw")!=document.getElementById("password").getAttribute("data-pw")){alert("两次输入不一致!");for(var e=document.getElementById("password").getElementsByTagName("li"),t=document.getElementById("a_password").getElementsByTagName("li"),n=0;n<e.length;n++)e[n].innerText="",t[n].innerText="";str=str2="",pw=document.getElementById("password"),document.getElementById("password").setAttribute("data-pw",""),document.getElementById("a_password").setAttribute("data-pw","")}else transferData(p_url)}function choice(e){e.parentElement.getElementsByTagName("strong")[0].innerText=e.value,source=e.value}function transferData(e){var t,n=document.getElementById("password").getAttribute("data-pw");t=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),t.open("POST",e,!0),t.onreadystatechange=function(){4==t.readyState&&200==t.status?window.location.href=successUrl:alert("error")},t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send("pw="+n)}function show(e){var t=60;e.innerText=t+"s后重新发送",e.disabled=!0,document.getElementById("setNext").disabled=!0;var n=setInterval(function(){t--,e.innerText=t+"s后重新发送",0>t&&(clearInterval(n),e.innerText="重新获取验证码",e.disabled=!1,document.getElementById("setNext").disabled=!1)},1e3);document.getElementById("sendTip").style.display="block",document.getElementById("sendTip").getElementsByTagName("span")[0].innerText=source}URL="";var str=str2="",pw=document.getElementById("password");source="PU口袋校园";