!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports["ui.router"]=e():t["ui.router"]=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){var r=n(2);e.common=r;var i=n(36);e.params=i;var o=n(15);e.path=o;var a=n(17);e.resolve=a;var s=n(12);e.state=s;var u=n(9);e.transition=u;var c=n(34);e.url=c;var l=n(49);e.view=l,Object.defineProperty(e,"__esModule",{value:!0}),e["default"]="ui.router"},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(3)),r(n(4)),r(n(5)),r(n(6))},function(t,e){function n(t){function e(n){return n.length>=r?t.apply(null,n):function(){return e(n.concat([].slice.apply(arguments)))}}var n=[].slice.apply(arguments,[1]),r=t.length;return e(n)}function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e-0]=arguments[e];return r.apply(null,[].slice.call(arguments).reverse())}function o(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(null,n)&&e.apply(null,n)}}function a(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r-0]=arguments[r];return t.apply(null,n)||e.apply(null,n)}}function s(t,e){return function(n){return n[t].apply(n,e)}}function u(t){return function(e){for(var n=0;n<t.length;n++)if(t[n][0](e))return t[n][1](e)}}function c(t){void 0===t&&(t={});for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=l.apply(null,[{}].concat(e));return q({},r,v(t||{},Object.keys(r)))}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return I(e,function(e){I(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function f(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function p(t,e,n){void 0===n&&(n=Object.keys(t));for(var r=0;r<n.length;r++){var i=n[r];if(t[i]!=e[i])return!1}return!0}function h(t,e){var n={},r=M(arguments,2);for(var i in e)t(r,i)&&(n[i]=e[i]);return n}function v(t){return h.apply(null,[L].concat(M(arguments)))}function d(t){return h.apply(null,[e.not(L)].concat(M(arguments)))}function m(t,n){return $(t,e.prop(n))}function g(t,e){var n=H(t),r=n?[]:{},i=n?function(t){return r.push(t)}:function(t,e){return r[e]=t};return I(t,function(t,n){e(t,n)&&i(t,n)}),r}function y(t,e){var n;return I(t,function(t,r){n||e(t,r)&&(n=t)}),n}function $(t,e){var n=H(t)?[]:{};return I(t,function(t,r){return n[r]=e(t,r)}),n}function w(t,e){return void 0===e&&(e="assert failure"),function(n){if(!t(n))throw new Error(e);return!0}}function b(){for(var t=[],n=0;n<arguments.length;n++)t[n-0]=arguments[n];if(0===t.length)return[];var r=t.reduce(function(t,e){return Math.min(e.length,t)},9007199254740991);return Array.apply(null,Array(r)).map(function(n,r){return t.map(function(t){return t[r]}).reduce(e.pushR,[])})}function x(t,e){var n,r;if(H(e)&&(n=e[0],r=e[1]),!C(n))throw new Error("invalid parameters to applyPairs");return t[n]=r,t}function E(t){if(H(t)&&t.length){var n=t.slice(0,-1),r=t.slice(-1);if(n.filter(e.not(C)).length||r.filter(e.not(P)).length)return!1}return P(t)}function S(t){var n=u([[H,function(t){return t.slice(-1)[0]}],[e.val(!0),U]])(t);return n&&n.toString()||"undefined"}function R(t,e){return e.length<=t?e:e.substr(0,t-3)+"..."}function k(t,e){for(;e.length<t;)e+=" ";return e}function _(t){return t.length&&t[t.length-1]||void 0}var O=angular.isDefined,P=angular.isFunction,T=angular.isNumber,C=angular.isString,j=angular.isObject,H=angular.isArray,I=angular.forEach,q=angular.extend,V=angular.copy,D=angular.noop,F=angular.toJson,A=angular.fromJson,N=angular.equals,U=angular.identity;e.isDefined=O,e.isFunction=P,e.isNumber=T,e.isString=C,e.isObject=j,e.isArray=H,e.forEach=I,e.extend=q,e.copy=V,e.noop=D,e.toJson=F,e.fromJson=A,e.equals=N,e.identity=U,e.abstractKey="abstract",e.curry=n,e.compose=r,e.pipe=i,e.prop=function(t){return function(e){return e&&e[t]}},e.propEq=n(function(t,e,n){return n&&n[t]===e}),e.parse=function(t){return i.apply(null,t.split(".").map(e.prop))},e.not=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return!t.apply(null,e)}},e.and=o,e.or=a,e.is=function(t){return function(e){return null!=e&&e.constructor===t||e instanceof t}},e.eq=function(t){return function(e){return t===e}},e.val=function(t){return function(){return t}},e.invoke=s,e.pattern=u,e.inherit=function(t,e){return q(new(q(function(){},{prototype:t})),e)};var M=function(t,e){return void 0===e&&(e=0),Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(t,e))},L=function(t,e){return-1!==t.indexOf(e)};e.removeFrom=function(t){return function(e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),t}},e.defaults=c,e.merge=l,e.mergeR=function(t,e){return q(t,e)},e.ancestors=f,e.equalForKeys=p,e.pick=v,e.omit=d,e.pluck=m,e.filter=g,e.find=y,e.map=$,e.values=function(t){return Object.keys(t).map(function(e){return t[e]})},e.allTrueR=function(t,e){return t&&e},e.anyTrueR=function(t,e){return t||e},e.pushR=function(t,e){return t.push(e),t},e.unnestR=function(t,e){return t.concat(e)},e.flattenR=function(t,n){return H(n)?t.concat(n.reduce(e.flattenR,[])):e.pushR(t,n)},e.unnest=function(t){return t.reduce(e.unnestR,[])},e.flatten=function(t){return t.reduce(e.flattenR,[])},e.assertPredicate=w,e.pairs=function(t){return Object.keys(t).map(function(e){return[e,t[e]]})},e.arrayTuples=b,e.applyPairs=x,e.isInjectable=E,e.isNull=function(t){return null===t},e.isPromise=o(j,i(e.prop("then"),P)),e.fnToString=S,e.maxLength=R,e.padString=k,e.tail=_,angular.module("ui.router.util",["ng","ui.router.init"]),angular.module("ui.router.router",["ui.router.util"]),angular.module("ui.router.state",["ui.router.router","ui.router.util","ui.router.angular1"]),angular.module("ui.router",["ui.router.init","ui.router.state","ui.router.angular1"]),angular.module("ui.router.compat",["ui.router"])},function(t,e){var n=function(t){return function(){throw new Error(t+"(): No coreservices implementation for UI-Router is loaded. You should include one of: ['angular1.js']")}},r={$q:void 0,$injector:void 0,location:{},locationConfig:{}};e.services=r,["replace","url","path","search","hash"].forEach(function(t){return r.location[t]=n(t)}),["port","protocol","host","baseHref","html5Mode","hashPrefix"].forEach(function(t){return r.locationConfig[t]=n(t)})},function(t,e){var n=function(){function t(t){void 0===t&&(t=[]),this._items=t}return t.prototype.enqueue=function(t){return this._items.push(t),t},t.prototype.dequeue=function(){return this.size()?this._items.splice(0,1)[0]:void 0},t.prototype.clear=function(){var t=this._items;return this._items=[],t},t.prototype.size=function(){return this._items.length},t.prototype.remove=function(t){var e=this._items.indexOf(t);return e>-1&&this._items.splice(e,1)[0]},t.prototype.peekTail=function(){return this._items[this._items.length-1]},t.prototype.peekHead=function(){return this.size()?this._items[0]:void 0},t}();e.Queue=n},function(t,e,n){function r(t){return c.is(p.TransitionRejection)(t.reason)?t.reason.toString():"Promise("+JSON.stringify(t)+")"}function i(t){var e=c.fnToString(t),n=e.match(/^(function [^ ]+\([^)]*\))/);return n?n[1]:e}function o(t){return c.isNumber(t)?u[t]:u[u[t]]}function a(t){var e=c.pattern([[c.not(c.isDefined),c.val("undefined")],[c.isNull,c.val("null")],[c.isPromise,r],[c.is(f.Transition),c.invoke("toString")],[c.is(l.Resolvable),c.invoke("toString")],[c.isInjectable,i],[c.val(!0),c.identity]]);return JSON.stringify(t,function(t,n){return e(n)}).replace(/\\"/g,'"')}function s(t){t.$watch(function(){m.approximateDigests++})}var u,c=n(3),l=n(7),f=n(8),p=n(28),h=function(t){return"ui-view id#"+t.id+", contextual name '"+t.name+"@"+t.creationContext+"', fqn: '"+t.fqn+"'"},v=function(t){return"ViewConfig targeting ui-view: '"+t.uiViewName+"@"+t.uiViewContextAnchor+"', context: '"+t.context.name+"'"};!function(t){t[t.RESOLVE=0]="RESOLVE",t[t.TRANSITION=1]="TRANSITION",t[t.HOOK=2]="HOOK",t[t.INVOKE=3]="INVOKE",t[t.UIVIEW=4]="UIVIEW",t[t.VIEWCONFIG=5]="VIEWCONFIG"}(u||(u={}));var d=function(){function t(){var t=this;this._enabled={},this.enable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return t._set(!0,e)},this.disable=function(){for(var e=[],n=0;n<arguments.length;n++)e[n-0]=arguments[n];return t._set(!1,e)},this.approximateDigests=0}return t.prototype._set=function(t,e){var n=this;e.length||(e=Object.keys(u).filter(function(t){return isNaN(parseInt(t,10))}).map(function(t){return u[t]})),e.map(o).forEach(function(e){return n._enabled[e]=t})},t.prototype.enabled=function(t){return!!this._enabled[o(t)]},t.prototype.traceTransitionStart=function(t){if(this.enabled(u.TRANSITION)){var e=t.$id,n=this.approximateDigests,r=a(t);console.log("Transition #"+e+" Digest #"+n+": Started  -> "+r)}},t.prototype.traceTransitionIgnored=function(t){if(this.enabled(u.TRANSITION)){var e=t.$id,n=this.approximateDigests,r=a(t);console.log("Transition #"+e+" Digest #"+n+": Ignored  <> "+r)}},t.prototype.traceHookInvocation=function(t,e){if(this.enabled(u.HOOK)){var n=c.parse("transition.$id")(e),r=this.approximateDigests,o=c.parse("traceData.hookType")(e)||"internal",a=c.parse("traceData.context.state.name")(e)||c.parse("traceData.context")(e)||"unknown",s=i(t.fn);console.log("Transition #"+n+" Digest #"+r+":   Hook -> "+o+" context: "+a+", "+c.maxLength(200,s))}},t.prototype.traceHookResult=function(t,e,n){if(this.enabled(u.HOOK)){var r=c.parse("transition.$id")(n),i=this.approximateDigests,o=a(t),s=a(e);console.log("Transition #"+r+" Digest #"+i+":   <- Hook returned: "+c.maxLength(200,o)+", transition result: "+c.maxLength(200,s))}},t.prototype.traceResolvePath=function(t,e){if(this.enabled(u.RESOLVE)){var n=c.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString(),o=e&&e.resolvePolicy;console.log("Transition #"+n+" Digest #"+r+":         Resolving "+i+" ("+o+")")}},t.prototype.traceResolvePathElement=function(t,e,n){if(this.enabled(u.RESOLVE)&&e.length){var r=c.parse("transition.$id")(n),i=this.approximateDigests,o=Object.keys(e).join(", "),a=t&&t.toString(),s=n&&n.resolvePolicy;console.log("Transition #"+r+" Digest #"+i+":         Resolve "+a+" resolvables: ["+o+"] ("+s+")")}},t.prototype.traceResolveResolvable=function(t,e){if(this.enabled(u.RESOLVE)){var n=c.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString();console.log("Transition #"+n+" Digest #"+r+":               Resolving -> "+i)}},t.prototype.traceResolvableResolved=function(t,e){if(this.enabled(u.RESOLVE)){var n=c.parse("transition.$id")(e),r=this.approximateDigests,i=t&&t.toString(),o=a(t.data);console.log("Transition #"+n+" Digest #"+r+":               <- Resolved  "+i+" to: "+c.maxLength(200,o))}},t.prototype.tracePathElementInvoke=function(t,e,n,r){if(this.enabled(u.INVOKE)){var o=c.parse("transition.$id")(r),a=this.approximateDigests,s=t&&t.state&&t.state.toString(),l=i(e);console.log("Transition #"+o+" Digest #"+a+":         Invoke "+r.when+": context: "+s+" "+c.maxLength(200,l))}},t.prototype.traceError=function(t,e){if(this.enabled(u.TRANSITION)){var n=e.$id,r=this.approximateDigests,i=a(e);console.log("Transition #"+n+" Digest #"+r+": <- Rejected "+i+", reason: "+t)}},t.prototype.traceSuccess=function(t,e){if(this.enabled(u.TRANSITION)){var n=e.$id,r=this.approximateDigests,i=t.name,o=a(e);console.log("Transition #"+n+" Digest #"+r+": <- Success  "+o+", final state: "+i)}},t.prototype.traceUiViewEvent=function(t,e,n){void 0===n&&(n=""),this.enabled(u.UIVIEW)&&console.log("ui-view: "+c.padString(30,t)+" "+h(e)+n)},t.prototype.traceUiViewConfigUpdated=function(t,e){this.enabled(u.UIVIEW)&&this.traceUiViewEvent("Updating",t," with ViewConfig from context='"+e+"'")},t.prototype.traceUiViewScopeCreated=function(t,e){this.enabled(u.UIVIEW)&&this.traceUiViewEvent("Created scope for",t,", scope #"+e.$id)},t.prototype.traceUiViewFill=function(t,e){this.enabled(u.UIVIEW)&&this.traceUiViewEvent("Fill",t," with: "+c.maxLength(200,e))},t.prototype.traceViewServiceEvent=function(t,e){this.enabled(u.VIEWCONFIG)&&console.log("$view.ViewConfig: "+t+" "+v(e))},t.prototype.traceViewServiceUiViewEvent=function(t,e){this.enabled(u.VIEWCONFIG)&&console.log("$view.ViewConfig: "+t+" "+h(e))},t}(),m=new d;e.trace=m,s.$inject=["$rootScope"],angular.module("ui.router").run(s),angular.module("ui.router").service("$trace",function(){return m})},function(t,e,n){var r=n(3),i=n(4),o=n(6),a=function(){function t(t,e,n){this.promise=void 0,r.extend(this,{name:t,resolveFn:e,deps:i.services.$injector.annotate(e),data:n})}return t.prototype.resolveResolvable=function(t,e){var n=this;void 0===e&&(e={});var a=this,s=a.name,u=a.deps,c=a.resolveFn;o.trace.traceResolveResolvable(this,e);var l=i.services.$q.defer();this.promise=l.promise;var f=t.getResolvables(null,{omitOwnLocals:[s]}),p=r.pick(f,u),h=r.map(p,function(n){return n.get(t,e)});return i.services.$q.all(h).then(function(t){try{var e=i.services.$injector.invoke(c,null,t);l.resolve(e)}catch(r){l.reject(r)}return n.promise}).then(function(t){return n.data=t,o.trace.traceResolvableResolved(n,e),n.promise})},t.prototype.get=function(t,e){return this.promise||this.resolveResolvable(t,e)},t.prototype.toString=function(){return"Resolvable(name: "+this.name+", requires: ["+this.deps+"])"},t.makeResolvables=function(e){var n=r.filter(e,r.not(r.isFunction)),i=Object.keys(n);if(i.length)throw new Error("Invalid resolve key/value: "+i[0]+"/"+n[i[0]]);return r.map(e,function(e,n){return new t(n,e)})},t}();e.Resolvable=a},function(t,e,n){var r=n(6),i=n(4),o=n(3),a=n(9),s=n(15),u=n(12),c=n(36),l=n(17),f=0,p=new a.RejectFactory,h=o.prop("self"),v=function(){function t(t,e){var n=this;if(this._deferred=i.services.$q.defer(),this.promise=this._deferred.promise,this.treeChanges=function(){return n._treeChanges},this.isActive=function(){return n===n._options.current()},!e.valid())throw new Error(e.error());a.HookRegistry.mixin(new a.HookRegistry,this),this._options=o.extend({current:o.val(this)},e.options()),this.$id=f++;var r=s.PathFactory.buildToPath(t,e);this._treeChanges=s.PathFactory.treeChanges(t,r,this._options.reloadState),s.PathFactory.bindTransitionResolve(this._treeChanges,this)}return t.prototype.$from=function(){return o.tail(this._treeChanges.from).state},t.prototype.$to=function(){return o.tail(this._treeChanges.to).state},t.prototype.from=function(){return this.$from().self},t.prototype.to=function(){return this.$to().self},t.prototype.is=function(e){return e instanceof t?this.is({to:e.$to().name,from:e.$from().name}):!(e.to&&!a.matchState(this.$to(),e.to)||e.from&&!a.matchState(this.$from(),e.from))},t.prototype.params=function(t){return void 0===t&&(t="to"),this._treeChanges[t].map(o.prop("values")).reduce(o.mergeR,{})},t.prototype.resolves=function(){return o.map(o.tail(this._treeChanges.to).resolveContext.getResolvables(),function(t){return t.data})},t.prototype.addResolves=function(t,e){void 0===e&&(e="");var n="string"==typeof e?e:e.name,r=this._treeChanges.to,i=o.find(r,function(t){return t.state.name===n});o.tail(r).resolveContext.addResolvables(l.Resolvable.makeResolvables(t),i.state)},t.prototype.previous=function(){return this._options.previous||null},t.prototype.options=function(){return this._options},t.prototype.entering=function(){return o.map(this._treeChanges.entering,o.prop("state")).map(h)},t.prototype.exiting=function(){return o.map(this._treeChanges.exiting,o.prop("state")).map(h).reverse()},t.prototype.retained=function(){return o.map(this._treeChanges.retained,o.prop("state")).map(h)},t.prototype.views=function(t,e){void 0===t&&(t="entering");var n=this._treeChanges[t];return e?o.find(n,o.propEq("state",e)).views:o.unnest(n.map(o.prop("views")))},t.prototype.redirect=function(e){var n=o.extend({},this.options(),e.options(),{previous:this});e=new u.TargetState(e.identifier(),e.$state(),e.params(),n);var r=new t(this._treeChanges.from,e),i=this.treeChanges().to,a=s.Node.matching(r.treeChanges().to,i),c=function(t,e){return-1===["$stateParams","$transition$"].indexOf(e)};return a.forEach(function(t,e){return o.extend(t.resolves,o.filter(i[e].resolves,c))}),r},t.prototype.ignored=function(){var t=this._treeChanges,e=t.to,n=t.from;if(this._options.reload||o.tail(e).state!==o.tail(n).state)return!1;var r=e.map(function(t){return t.schema.filter(o.not(o.prop("dynamic")))}),i=[e,n].map(function(t){return t.map(o.prop("values"))}),a=i[0],s=i[1],u=o.arrayTuples(r,a,s);return u.map(function(t){var e=t[0],n=t[1],r=t[2];return c.Param.equals(e,n,r)}).reduce(o.allTrueR,!0)},t.prototype.hookBuilder=function(){return new a.HookBuilder(a.$transitions,this,{transition:this,current:this._options.current})},t.prototype.run=function(){var t=this,e=this.hookBuilder(),n=a.TransitionHook.runSynchronousHooks,o=function(){return n(e.getOnSuccessHooks(),{},!0)},s=function(t){return n(e.getOnErrorHooks(),{$error$:t},!0)};this.promise.then(o,s);var u=n(e.getOnBeforeHooks());if(a.TransitionHook.isRejection(u)){var c=u.reason;return this._deferred.reject(c),this.promise}if(!this.valid()){var l=new Error(this.error());return this._deferred.reject(l),this.promise}if(this.ignored()){r.trace.traceTransitionIgnored(this);var f=p.ignored();return this._deferred.reject(f.reason),this.promise}var h=function(){t._deferred.resolve(t),r.trace.traceSuccess(t.$to(),t)},v=function(e){return t._deferred.reject(e),r.trace.traceError(e,t),i.services.$q.reject(e)};r.trace.traceTransitionStart(this);var d=e.asyncHooks().reduce(function(t,e){return t.then(e.invokeStep)},u);return d.then(h,v),this.promise},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.$to();return t.self[o.abstractKey]?"Cannot transition to abstract state '"+t.name+"'":c.Param.validates(t.parameters(),this.params())?void 0:"Param values not valid for state '"+t.name+"'"},t.prototype.toString=function(){var t=this.from(),e=this.to(),n=function(t){return null!==t["#"]&&void 0!==t["#"]?t:o.omit(t,"#")},r=this.$id,i=o.isObject(t)?t.name:t,a=o.toJson(n(this._treeChanges.from.map(o.prop("values")).reduce(o.mergeR,{}))),s=this.valid()?"":"(X) ",u=o.isObject(e)?e.name:e,c=o.toJson(n(this.params()));return"Transition#"+r+"( '"+i+"'"+a+" -> "+s+"'"+u+"'"+c+" )"},t}();e.Transition=v},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(10)),r(n(11)),r(n(28)),r(n(8)),r(n(47)),r(n(48))},function(t,e,n){var r=n(3),i=n(9),o=function(){function t(t,e,n){var i=this;this.$transitions=t,this.transition=e,this.baseHookOptions=n,this.getOnBeforeHooks=function(){return i._buildTransitionHooks("onBefore",{},{async:!1})},this.getOnStartHooks=function(){return i._buildTransitionHooks("onStart")},this.getOnExitHooks=function(){return i._buildNodeHooks("onExit",i.treeChanges.exiting.reverse(),function(t){return i._toFrom({from:t.state})})},this.getOnRetainHooks=function(){return i._buildNodeHooks("onRetain",i.treeChanges.retained,function(t){return i._toFrom()})},this.getOnEnterHooks=function(){return i._buildNodeHooks("onEnter",i.treeChanges.entering,function(t){return i._toFrom({to:t.state})})},this.getOnFinishHooks=function(){return i._buildTransitionHooks("onFinish",{$treeChanges$:i.treeChanges})},this.getOnSuccessHooks=function(){return i._buildTransitionHooks("onSuccess",{},{async:!1,rejectIfSuperseded:!1})},this.getOnErrorHooks=function(){return i._buildTransitionHooks("onError",{},{async:!1,rejectIfSuperseded:!1})},this.treeChanges=e.treeChanges(),this.toState=r.tail(this.treeChanges.to).state,this.fromState=r.tail(this.treeChanges.from).state,this.transitionOptions=e.options()}return t.prototype.asyncHooks=function(){var t=this.getOnStartHooks(),e=this.getOnExitHooks(),n=this.getOnRetainHooks(),i=this.getOnEnterHooks(),o=this.getOnFinishHooks();return r.flatten([t,e,n,i,o]).filter(r.identity)},t.prototype._toFrom=function(t){return r.extend({to:this.toState,from:this.fromState},t)},t.prototype._buildTransitionHooks=function(t,e,n){var i=this;void 0===e&&(e={}),void 0===n&&(n={});var o=this.treeChanges.to,a=r.tail(o);n.traceData={hookType:t,context:o};var s=function(t){return i.buildHook(a,t.callback,e,n)};return this._matchingHooks(t,this._toFrom()).map(s)},t.prototype._buildNodeHooks=function(t,e,n,r,i){var o=this;void 0===r&&(r={}),void 0===i&&(i={});var a=function(e){var a=n(e);i.traceData={hookType:t,context:e},r.$state$=e.state;var s=function(t){return o.buildHook(e,t.callback,r,i)};return o._matchingHooks(t,a).map(s)};return e.map(a)},t.prototype.buildHook=function(t,e,n,o){void 0===o&&(o={});var a=r.extend({},this.baseHookOptions,o);return new i.TransitionHook(e,r.extend({},n),t.resolveContext,a)},t.prototype._matchingHooks=function(t,e){var n=function(t){return t.matches(e.to,e.from)},i=function(t,e){return e.priority-t.priority};return[this.transition,this.$transitions].map(function(e){return e.getHooks(t)}).filter(r.assertPredicate(r.isArray,"broken event named: "+t)).reduce(r.unnestR).filter(n).sort(i)},t}();e.HookBuilder=o},function(t,e,n){function r(t,e){function n(t){for(var e=0;e<r.length;e++){var n=a.Glob.fromString(r[e]);if(n&&n.matches(t.name)||!n&&r[e]===t.name)return!0}return!1}var r=o.isString(e)?[e]:e,i=o.isFunction(r)?r:n;return!!i(t)}function i(t,e){return function(n,r,i){void 0===i&&(i={});var a=new s(n,r,i);return t[e].push(a),function(){o.removeFrom(t[e])(a)}}}var o=n(3),a=n(12);e.matchState=r;var s=function(){function t(t,e,n){void 0===n&&(n={}),this.callback=e,this.matchCriteria=o.extend({to:o.val(!0),from:o.val(!0)},t),this.priority=n.priority||0}return t.prototype.matches=function(t,e){return r(t,this.matchCriteria.to)&&r(e,this.matchCriteria.from)},t}();e.EventHook=s;var u=function(){function t(){var t=this;this._transitionEvents={onBefore:[],onStart:[],onEnter:[],onRetain:[],onExit:[],onFinish:[],onSuccess:[],onError:[]},this.getHooks=function(e){return t._transitionEvents[e]},this.onBefore=i(this._transitionEvents,"onBefore"),this.onStart=i(this._transitionEvents,"onStart"),this.onEnter=i(this._transitionEvents,"onEnter"),this.onRetain=i(this._transitionEvents,"onRetain"),this.onExit=i(this._transitionEvents,"onExit"),this.onFinish=i(this._transitionEvents,"onFinish"),this.onSuccess=i(this._transitionEvents,"onSuccess"),this.onError=i(this._transitionEvents,"onError")}return t.mixin=function(t,e){Object.keys(t._transitionEvents).concat(["getHooks"]).forEach(function(n){return e[n]=t[n]})},t}();e.HookRegistry=u},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(13)),r(n(14)),r(n(41)),r(n(42)),r(n(43)),r(n(23)),r(n(44)),r(n(45)),r(n(46)),r(n(29))},function(t,e){var n=function(){function t(t){this.text=t,this.glob=t.split(".")}return t.prototype.matches=function(t){for(var e=t.split("."),n=0,r=this.glob.length;r>n;n++)"*"===this.glob[n]&&(e[n]="*");return"**"===this.glob[0]&&(e=e.slice(e.indexOf(this.glob[1])),e.unshift("**")),"**"===this.glob[this.glob.length-1]&&(e.splice(e.indexOf(this.glob[this.glob.length-2])+1,Number.MAX_VALUE),e.push("**")),this.glob.length!=e.length?!1:e.join("")===this.glob.join("")},t.is=function(t){return t.indexOf("*")>-1},t.fromString=function(e){return this.is(e)?new t(e):null},t}();e.Glob=n},function(t,e,n){function r(t,e){function n(t,e){return g.builder(t,e)||this}function r(t,e){return i.isObject(t)?e=t:e.name=t,y.register(e),this}function f(t){x.push(t)}function p(t,e,n,r,f,p){function g(n,r){function i(t){if(t instanceof a.TargetState){var e=t;return e=d.target(e.identifier(),e.params(),e.options()),e.valid()?c()!==l?b.superseded():d.transitionTo(e.identifier(),e.params(),e.options()):b.invalid(e.error())}}function s(){var t=p.dequeue();return void 0===t?b.invalid(r.error()):h(t).then(i).then(function(t){return t||s()})}var c=function(){return $.peekTail()||w.peekTail()},l=c(),f=u.PathFactory.makeTargetState(n),p=new o.Queue([].concat(x)),h=function(n){return t.when(e.invoke(n,null,{$to$:r,$from$:f}))};return s()}var E=p,S={name:"",url:"^",views:null,params:{"#":{value:null,type:"hash"}},"abstract":!0};h=y.register(S,!0),h.navigable=null;var R=function(){return u.PathFactory.bindTransNodesToPath([new u.Node(h,{})])};return n.rootContext(h),i.extend(d,{params:new l.StateParams,current:h.self,$current:h,transition:null}),y.flush(d),y.autoFlush=!0,d.reload=function(t){return d.transitionTo(d.current,r,{reload:i.isDefined(t)?t:!0,inherit:!1,notify:!1})},d.go=function(t,e,n){var r={relative:d.$current,inherit:!0},o=i.defaults(n,r,s.defaultTransOpts);return d.transitionTo(t,e,o)},d.target=function(t,e,n){void 0===n&&(n={});var r=m.find(t,n.relative);return new a.TargetState(t,r,e,n)},d.transitionTo=function(e,o,a){if(void 0===o&&(o={}),void 0===a&&(a={}),a=i.defaults(a,s.defaultTransOpts),a=i.extend(a,{current:$.peekTail.bind($)}),i.isObject(a.reload)&&!a.reload.name)throw new Error("Invalid reload state object");if(a.reloadState=a.reload===!0?d.$current.path[0]:m.find(a.reload,a.relative),a.reload&&!a.reloadState)throw new Error("No such reload state '"+(i.isString(a.reload)?a.reload:a.reload.name)+"'");var u=d.target(e,o,a),l=w.peekTail(),p=l?l.to:R();if(!u.exists())return g(p,u);if(!u.valid())return t.reject(u.error());var h=E.create(p,u),v=new c.TransitionManager(h,E,f,n,d,r,t,$,w),y=v.runTransition();return i.extend(y,{transition:h})},d.is=function(t,e,n){n=i.defaults(n,{relative:d.$current});var o=m.find(t,n.relative);return i.isDefined(o)?d.$current!==o?!1:i.isDefined(e)&&null!==e?l.Param.equals(o.parameters(),r,e):!0:void 0},d.includes=function(t,e,n){n=i.defaults(n,{relative:d.$current});var o=i.isString(t)&&a.Glob.fromString(t);if(o){if(!o.matches(d.$current.name))return!1;t=d.$current.name}var s=m.find(t,n.relative),u=d.$current.includes;return i.isDefined(s)?i.isDefined(u[s.name])?e?i.equalForKeys(l.Param.values(s.parameters(),e),r,Object.keys(e)):!0:!1:void 0},d.href=function(t,e,n){var o={lossy:!0,inherit:!0,absolute:!1,relative:d.$current};n=i.defaults(n,o);var a=m.find(t,n.relative);if(!i.isDefined(a))return null;n.inherit&&(e=r.$inherit(e||{},d.$current,a));var s=a&&n.lossy?a.navigable:a;return s&&void 0!==s.url&&null!==s.url?f.href(s.url,l.Param.values(a.parameters(),e),{absolute:n.absolute}):null},d.get=function(t,e){if(0===arguments.length)return Object.keys(v).map(function(t){return v[t].self});var n=m.find(t,e||d.$current);return n&&n.self||null},d}var h,v={},d=function(){},m=new a.StateMatcher(v),g=new a.StateBuilder(function(){return h},m,e),y=new a.StateQueueManager(v,g,t,d),$=new o.Queue,w=new o.Queue,b=new s.RejectFactory;this.decorator=n,this.state=r;var x=[];this.onInvalid=f,this.$get=p,p.$inject=["$q","$injector","$view","$stateParams","$urlRouter","$transitions"]}var i=n(3),o=n(5),a=n(12),s=n(9),u=n(15),c=n(23),l=n(36);e.$StateProvider=r},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(16)),r(n(22))},function(t,e,n){var r=n(3),i=n(17),o=n(21),a=function(){function t(t,e,n){void 0===n&&(n={}),this.state=t,this.schema=t.parameters({inherit:!1});var a=function(t){return[t.id,t.value(e[t.id])]};this.values=this.schema.reduce(function(t,e){return r.applyPairs(t,a(e))},{}),this.resolves=r.extend(r.map(t.resolve,function(t,e){return new i.Resolvable(e,t)}),n);var s=function(n,r){return new o.ViewConfig({rawViewName:r,viewDeclarationObj:n,context:t,params:e})};this.views=r.values(r.map(t.views,s))}return t.prototype.parameter=function(t){return r.find(this.schema,r.propEq("id",t))},t.prototype.equals=function(t,e){var n=this;void 0===e&&(e=this.schema.map(r.prop("id")));var i=function(e){return n.parameter(e).type.equals(n.values[e],t.values[e])};return this.state===t.state&&e.map(i).reduce(r.allTrueR,!0)},t.clone=function(e,n){return void 0===n&&(n={}),new t(e.state,n.values||e.values,n.resolves||e.resolves)},t.matching=function(t,e){var n=t.reduce(function(t,n,r){return t===r&&r<e.length&&n.state===e[r].state?r+1:t},0);return t.slice(0,n)},t}();e.Node=a},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(7)),r(n(18)),r(n(20))},function(t,e,n){function r(t,e){var n=i.isString(t)?t:null,r=i.isObject(t)?t:{},o=r[e.name]||n||u;return s.ResolvePolicy[o]}var i=n(3),o=n(6),a=n(4),s=n(19),u=s.ResolvePolicy[s.ResolvePolicy.LAZY],c=function(){function t(t){this._path=t,i.extend(this,{_nodeFor:function(t){return i.find(this._path,i.propEq("state",t))},_pathTo:function(t){var e=this._nodeFor(t),n=this._path.indexOf(e);if(-1===n)throw new Error("This path does not contain the state");return this._path.slice(0,n+1)}})}return t.prototype.getResolvables=function(t,e){e=i.defaults(e,{omitOwnLocals:[]});var n=(i.find(this._path,i.propEq("")),t?this._pathTo(t):this._path),r=i.tail(n);return n.reduce(function(t,n){var o=n===r?e.omitOwnLocals:[],a=i.omit(n.resolves,o);return i.extend(t,a)},{})},t.prototype.getResolvablesForFn=function(t){var e=a.services.$injector.annotate(t);return i.pick(this.getResolvables(),e)},t.prototype.isolateRootTo=function(e){return new t(this._pathTo(e))},t.prototype.addResolvables=function(t,e){i.extend(this._nodeFor(e).resolves,t)},t.prototype.getOwnResolvables=function(t){return i.extend({},this._nodeFor(t).resolves)},t.prototype.resolvePath=function(t){var e=this;void 0===t&&(t={}),o.trace.traceResolvePath(this._path,t);var n=function(n){return e.resolvePathElement(n.state,t)};return a.services.$q.all(i.map(this._path,n)).then(i.noop)},t.prototype.resolvePathElement=function(t,e){var n=this;void 0===e&&(e={});var c=e&&e.resolvePolicy,l=s.ResolvePolicy[c||u],f=this.getOwnResolvables(t),p=function(e){return r(t.resolvePolicy,e)>=l},h=i.filter(f,p),v=function(r){return r.get(n.isolateRootTo(t),e)},d=i.map(h,v);return o.trace.traceResolvePathElement(this,h,e),a.services.$q.all(d).then(i.noop)},t.prototype.invokeLater=function(t,e,n){var r=this;void 0===e&&(e={}),void 0===n&&(n={});var s=this.getResolvablesForFn(t);o.trace.tracePathElementInvoke(i.tail(this._path),t,Object.keys(s),i.extend({when:"Later"},n));var u=function(t){return t.get(r,n)},c=i.map(s,u);return a.services.$q.all(c).then(function(){try{return r.invokeNow(t,e,n)}catch(i){return a.services.$q.reject(i)}})},t.prototype.invokeNow=function(t,e,n){void 0===n&&(n={});var r=this.getResolvablesForFn(t);o.trace.tracePathElementInvoke(i.tail(this._path),t,Object.keys(r),i.extend({when:"Now  "},n));var s=i.map(r,i.prop("data"));return a.services.$injector.invoke(t,null,i.extend({},e,s))},t}();e.ResolveContext=c},function(t,e){!function(t){t[t.JIT=0]="JIT",t[t.LAZY=1]="LAZY",t[t.EAGER=2]="EAGER"}(e.ResolvePolicy||(e.ResolvePolicy={})),e.ResolvePolicy},function(t,e,n){var r=n(3),i=function(){function t(t,e){this._resolveContext=t,this._state=e}return t.prototype.invokeLater=function(t,e){return this._resolveContext.invokeLater(t,e)},t.prototype.invokeNow=function(t,e){return this._resolveContext.invokeNow(null,t,e)},t.prototype.getLocals=function(t){var e=this,n=function(t){return t.get(e._resolveContext)};return r.map(this._resolveContext.getResolvablesForFn(t),n)},t}();e.ResolveInjector=i},function(t,e,n){"use strict";function r(t){void 0===t&&(t="");var e=t.split("@"),n=e[0]||"$default",r=o.isString(e[1])?e[1]:"^",i=/^(\^(?:\.\^)*)\.(.*$)/.exec(n);return i&&(r=i[1],n=i[2]),"!"===n.charAt(0)&&(n=n.substr(1),r=""),{uiViewName:n,uiViewContextAnchor:r}}function i(t,e,n,r){var i=[],s=[],u=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(n){return e.reduce(function(e,r){return e&&t[r]===n[r]},!0)}};this.rootContext=function(t){return t?this._rootContext=t:this._rootContext},this.load=function(t,r){if(!t.hasTemplate())throw new Error("No template configuration specified for '"+t.uiViewName+"@"+t.uiViewContextAnchor+"'");
var i={template:n.when(t.getTemplate(e,r)),controller:n.when(t.getController(r))};return n.all(i).then(function(e){return a.trace.traceViewServiceEvent("Loaded",t),o.extend(t,e)})},this.reset=function(t){a.trace.traceViewServiceEvent("<- Removing",t),s.filter(u(t,"uiViewName","context")).forEach(o.removeFrom(s))},this.registerStateViewConfig=function(t){a.trace.traceViewServiceEvent("-> Registering",t),s.push(t)},this.sync=function(){function t(t){return t.fqn.split(".").length}function e(t){for(var e=t.context,n=0;++n&&e.parent;)e=e.parent;return n}var n=i.map(function(t){return[t.fqn,t]}).reduce(o.applyPairs,{}),r=o.curry(function(t,e){var r=e.uiViewName.split("."),i=t.fqn.split(".");if(!angular.equals(r,i.slice(0-r.length)))return!1;var o=1-r.length||void 0,a=i.slice(0,o).join("."),s=n[a].creationContext;return e.uiViewContextAnchor===(s&&s.name)}),a=o.curry(function(t,e,n,r){return e*(t(n)-t(r))}),u=function(t){var n=s.filter(r(t));return n.length>1&&n.sort(a(e,-1)),[t,n[0]]},c=function(t){var e=t[0],n=t[1];-1!==i.indexOf(e)&&e.configUpdated(n)};i.sort(a(t,1)).map(u).forEach(c)},this.registerUiView=function(t){a.trace.traceViewServiceUiViewEvent("-> Registering",t);var e=function(e){return e.fqn===t.fqn};return i.filter(e).length&&a.trace.traceViewServiceUiViewEvent("!!!! duplicate uiView named:",t),i.push(t),this.sync(),function(){var e=i.indexOf(t);return 0>=e?void a.trace.traceViewServiceUiViewEvent("Tried removing non-registered uiView",t):(a.trace.traceViewServiceUiViewEvent("<- Deregistering",t),void o.removeFrom(i)(t))}},this.available=function(){return i.map(o.prop("fqn"))},this.active=function(){return i.filter(o.prop("$config")).map(o.prop("name"))}}var o=n(3),a=n(2),s=function(){function t(t){var e=r(t.rawViewName),n=e.uiViewName,i=e.uiViewContextAnchor,a=/^(\^(?:\.\^)*)$/;if(a.exec(i)){var s=i.split(".").reduce(function(t,e){return t.parent},t.context);i=s.name}o.extend(this,o.pick(t,"viewDeclarationObj","params","context","locals"),{uiViewName:n,uiViewContextAnchor:i}),this.controllerAs=t.viewDeclarationObj.controllerAs}return t.prototype.hasTemplate=function(){var t=this.viewDeclarationObj;return!!(t.template||t.templateUrl||t.templateProvider)},t.prototype.getTemplate=function(t,e){return t.fromConfig(this.viewDeclarationObj,this.params,e.invokeLater.bind(e))},t.prototype.getController=function(t){var e=this.viewDeclarationObj.controllerProvider;return o.isInjectable(e)?t.invokeLater(e,{}):this.viewDeclarationObj.controller},t}();e.ViewConfig=s,i.$inject=["$rootScope","$templateFactory","$q","$timeout"],angular.module("ui.router.state").service("$view",i)},function(t,e,n){var r=n(3),i=n(12),o=n(15),a=n(17),s=function(){function t(){}return t.makeTargetState=function(t){var e=r.tail(t).state;return new i.TargetState(e,e,t.map(r.prop("values")).reduce(r.mergeR,{}))},t.buildToPath=function(e,n){var r=n.params(),i=t.makeParamsNode(r),o=n.$state().path.map(i);return n.options().inherit&&(o=t.inheritParams(e,o,Object.keys(r))),o},t.inheritParams=function(t,e,n){function i(t,e){var n=r.find(t,r.propEq("state",e));return r.extend({},n&&n.values)}void 0===n&&(n=[]);var a=r.curry(function(t,e,n){var a=r.extend({},n&&n.values),s=r.pick(a,e);a=r.omit(a,e);var u=i(t,n.state)||{},c=r.extend(a,u,s);return new o.Node(n.state,c)});return e.map(a(t,n))},t.bindTransNodesToPath=function(t){var e=new a.ResolveContext(t);return t.forEach(function(t){t.resolveContext=e.isolateRootTo(t.state),t.resolveInjector=new a.ResolveInjector(t.resolveContext,t.state),t.resolves.$stateParams=new a.Resolvable("$stateParams",function(){return t.values},t.values)}),t},t.treeChanges=function(e,n,i){function a(t,e){return o.Node.clone(t,{values:n[e].values})}for(var s=0,u=Math.min(e.length,n.length),c=function(t){return t.parameters({inherit:!1}).filter(r.not(r.prop("dynamic"))).map(r.prop("id"))},l=function(t,e){return t.equals(e,c(t.state))};u>s&&e[s].state!==i&&l(e[s],n[s]);)s++;var f,p,h,v,d,m,g,y;return f=e,p=f.slice(0,s),h=f.slice(s),m=p.map(a),g=n.slice(s),y=m.concat(g),d=t.bindTransNodesToPath(y),v=d.slice(s),{from:f,to:d,retained:p,exiting:h,entering:v}},t.bindTransitionResolve=function(t,e){var n=t.to[0];n.resolves.$transition$=new a.Resolvable("$transition$",function(){return e},e)},t.makeParamsNode=r.curry(function(t,e){return new o.Node(e,t)}),t}();e.PathFactory=s},function(t,e,n){var r=n(3),i=n(24),o=n(28),a=n(29),s=n(30),u=n(39),c=n(40),l=function(){function t(t,e,n,r,i,o,a,l,f){this.transition=t,this.$transitions=e,this.$urlRouter=n,this.$view=r,this.$state=i,this.$stateParams=o,this.$q=a,this.activeTransQ=l,this.changeHistory=f,this.viewHooks=new s.ViewHooks(t,r),this.enterExitHooks=new u.EnterExitHooks(t),this.resolveHooks=new c.ResolveHooks(t),this.treeChanges=t.treeChanges(),this.registerUpdateGlobalState(),this.viewHooks.registerHooks(),this.enterExitHooks.registerHooks(),this.resolveHooks.registerHooks()}return t.prototype.runTransition=function(){var t=this;return this.activeTransQ.clear(),this.activeTransQ.enqueue(this.transition),this.transition.run().then(function(t){return t.to()})["catch"](function(e){return t.transRejected(e)})["finally"](function(){return t.activeTransQ.remove(t.transition)})},t.prototype.registerUpdateGlobalState=function(){this.transition.onFinish({},this.updateGlobalState.bind(this),{priority:-1e4})},t.prototype.updateGlobalState=function(){var t=this,e=t.treeChanges,n=t.transition,r=t.$state,i=t.changeHistory;r.$current=n.$to(),r.current=r.$current.self,i.enqueue(e),this.updateStateParams()},t.prototype.transRejected=function(t){var e=this,n=e.transition,s=e.$state,u=e.$stateParams,c=e.$q;if(t instanceof o.TransitionRejection){if(t.type===o.RejectType.IGNORED){var l=s.$current.parameters().filter(r.prop("dynamic"));return i.Param.equals(l,u,n.params())||this.updateStateParams(),s.current}if(t.type===o.RejectType.SUPERSEDED&&t.redirected&&t.detail instanceof a.TargetState)return this._redirectMgr(n.redirect(t.detail)).runTransition()}return this.$transitions.defaultErrorHandler()(t),c.reject(t)},t.prototype.updateStateParams=function(){var t=this,e=t.transition,n=t.$urlRouter,i=t.$state,o=t.$stateParams,a=e.options();i.params=e.params(),r.copy(i.params,o),o.$sync().$off(),a.location&&i.$current.navigable&&n.push(i.$current.navigable.url,o,{replace:"replace"===a.location}),n.update(!0)},t.prototype._redirectMgr=function(e){var n=this,r=n.$transitions,i=n.$urlRouter,o=n.$view,a=n.$state,s=n.$stateParams,u=n.$q,c=n.activeTransQ,l=n.changeHistory;return new t(e,r,i,o,a,s,u,c,l)},t}();e.TransitionManager=l},function(t,e,n){var r,i=n(3),o=n(4),a=n(25),s=n(26),u=n(27),c=Object.prototype.hasOwnProperty,l=function(t){return 0===["value","type","squash","array","dynamic"].filter(c.bind(t||{})).length};!function(t){t[t.PATH=0]="PATH",t[t.SEARCH=1]="SEARCH",t[t.CONFIG=2]="CONFIG"}(r||(r={}));var f=function(){function t(t,e,n,o){function c(t){return t=l(t)&&{value:t}||t,i.extend(t,{$$fn:i.isInjectable(t.value)?t.value:function(){return t.value}})}function f(e,n,i){if(e.type&&n&&"string"!==n.name)throw new Error("Param '"+t+"' has two type configurations.");return e.type&&n&&"string"===n.name&&u.paramTypes.type(e.type)?u.paramTypes.type(e.type):n?n:e.type?e.type instanceof s.Type?e.type:u.paramTypes.type(e.type):i===r.CONFIG?u.paramTypes.type("any"):u.paramTypes.type("string")}function p(){var e={array:o===r.SEARCH?"auto":!1},a=t.match(/\[\]$/)?{array:!0}:{};return i.extend(e,a,n).array}function h(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!i.isDefined(n)||null==n)return a.matcherConfig.defaultSquashPolicy();if(n===!0||i.isString(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function v(t,e,n,r){var o,a,s=[{from:"",to:n||e?void 0:""},{from:null,to:n||e?void 0:""}];return o=i.isArray(t.replace)?t.replace:[],i.isString(r)&&o.push({from:r,to:void 0}),a=i.map(o,i.prop("from")),i.filter(s,function(t){return-1===a.indexOf(t.from)}).concat(o)}n=c(n),e=f(n,e,o);var d=p();e=d?e.$asArray(d,o===r.SEARCH):e;var m=void 0!==n.value,g=n.dynamic===!0,y=h(n,m),$=v(n,d,m,y);i.extend(this,{id:t,type:e,location:o,squash:y,replace:$,isOptional:m,dynamic:g,config:n,array:d})}return t.prototype.isDefaultValue=function(t){return this.isOptional&&this.type.equals(this.value(),t)},t.prototype.value=function(t){var e=this,n=function(){if(!o.services.$injector)throw new Error("Injectable functions cannot be called at configuration time");var t=o.services.$injector.invoke(e.config.$$fn);if(null!==t&&void 0!==t&&!e.type.is(t))throw new Error("Default value ("+t+") for parameter '"+e.id+"' is not an instance of Type ("+e.type.name+")");return t},r=function(t){var n=i.map(i.filter(e.replace,i.propEq("from",t)),i.prop("to"));return n.length?n[0]:t};return t=r(t),i.isDefined(t)?this.type.$normalize(t):n()},t.prototype.isSearch=function(){return this.location===r.SEARCH},t.prototype.validates=function(t){if((!i.isDefined(t)||null===t)&&this.isOptional)return!0;var e=this.type.$normalize(t);if(!this.type.is(e))return!1;var n=this.type.encode(e);return!i.isString(n)||this.type.pattern.exec(n)},t.prototype.toString=function(){return"{Param:"+this.id+" "+this.type+" squash: '"+this.squash+"' optional: "+this.isOptional+"}"},t.fromConfig=function(e,n,i){return new t(e,n,i,r.CONFIG)},t.fromPath=function(e,n,i){return new t(e,n,i,r.PATH)},t.fromSearch=function(e,n,i){return new t(e,n,i,r.SEARCH)},t.values=function(t,e){return e=e||{},t.map(function(t){return[t.id,t.value(e[t.id])]}).reduce(i.applyPairs,{})},t.equals=function(t,e,n){return e=e||{},n=n||{},-1===t.map(function(t){return t.type.equals(e[t.id],n[t.id])}).indexOf(!1)},t.validates=function(t,e){return e=e||{},-1===t.map(function(t){return t.validates(e[t.id])}).indexOf(!1)},t}();e.Param=f},function(t,e,n){var r=n(3),i=function(){function t(){this._isCaseInsensitive=!1,this._isStrictMode=!0,this._defaultSquashPolicy=!1}return t.prototype.caseInsensitive=function(t){return this._isCaseInsensitive=r.isDefined(t)?t:this._isCaseInsensitive},t.prototype.strictMode=function(t){return this._isStrictMode=r.isDefined(t)?t:this._isStrictMode},t.prototype.defaultSquashPolicy=function(t){if(r.isDefined(t)&&t!==!0&&t!==!1&&!r.isString(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return this._defaultSquashPolicy=r.isDefined(t)?t:this._defaultSquashPolicy},t}();e.matcherConfig=new i},function(t,e,n){function r(t,e){function n(t){return i.isArray(t)?t:i.isDefined(t)?[t]:[]}function r(t){switch(t.length){case 0:return;case 1:return"auto"===e?t[0]:t;default:return t}}function o(t,e){return function(o){var a=n(o),s=i.map(a,t);return e===!0?0===i.filter(s,function(t){return!t}).length:r(s)}}function a(t){return function(e,r){var i=n(e),o=n(r);if(i.length!==o.length)return!1;for(var a=0;a<i.length;a++)if(!t(i[a],o[a]))return!1;return!0}}var s=this;["encode","decode","equals","$normalize"].map(function(e){s[e]=("equals"===e?a:o)(t[e].bind(t))}),i.extend(this,{name:t.name,pattern:t.pattern,is:o(t.is.bind(t),!0),$arrayMode:e})}var i=n(3),o=function(){function t(t){this.pattern=/.*/,i.extend(this,t)}return t.prototype.is=function(t,e){return!0},t.prototype.encode=function(t,e){return t},t.prototype.decode=function(t,e){return t},t.prototype.equals=function(t,e){return t==e},t.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},t.prototype.toString=function(){return"{Type:"+this.name+"}"},t.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},t.prototype.$asArray=function(t,e){if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},t}();e.Type=o},function(t,e,n){var r=n(3),i=n(4),o=n(26),a=function(t,e){return function(n){return null!=n?n.toString().replace(t,e):n}},s=a(/\//g,"%2F"),u=a(/%2F/g,"/"),c=function(){function t(){this.enqueue=!0,this.typeQueue=[],this.defaultTypes={hash:{encode:s,decode:u,is:r.is(String),pattern:/.*/,equals:r.val(!0)},string:{encode:s,decode:u,is:r.is(String),pattern:/[^\/]*/},"int":{encode:s,decode:function(t){return parseInt(t,10)},is:function(t){return r.isDefined(t)&&this.decode(t.toString())===t},pattern:/-?\d+/},bool:{encode:function(t){return t&&1||0},decode:function(t){return 0!==parseInt(t,10)},is:r.is(Boolean),pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):void 0},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):void 0},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:r.toJson,decode:r.fromJson,is:r.is(Object),equals:r.equals,pattern:/[^\/]*/},any:{encode:r.identity,decode:r.identity,equals:r.equals,pattern:/.*/}};var t=function(t,e){return new o.Type(r.extend({name:e},t))};this.types=r.inherit(r.map(this.defaultTypes,t),{})}return t.prototype.type=function(t,e,n){if(!r.isDefined(e))return this.types[t];if(this.types.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return this.types[t]=new o.Type(r.extend({name:t},e)),n&&(this.typeQueue.push({name:t,def:n}),this.enqueue||this._flushTypeQueue()),this},t.prototype._flushTypeQueue=function(){for(;this.typeQueue.length;){var t=this.typeQueue.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");r.extend(this.types[t.name],i.services.$injector.invoke(t.def))}},t}();e.paramTypes=new c},function(t,e,n){"use strict";var r=n(3),i=n(4);!function(t){t[t.SUPERSEDED=2]="SUPERSEDED",t[t.ABORTED=3]="ABORTED",t[t.INVALID=4]="INVALID",t[t.IGNORED=5]="IGNORED"}(e.RejectType||(e.RejectType={}));var o=e.RejectType,a=function(){function t(t,e,n){r.extend(this,{type:t,message:e,detail:n})}return t.prototype.toString=function(){var t=function(t){return t&&t.toString!==Object.prototype.toString?t.toString():JSON.stringify(t)},e=this.type,n=this.message,r=t(this.detail);return"TransitionRejection(type: "+e+", message: "+n+", detail: "+r+")"},t}();e.TransitionRejection=a;var s=function(){function t(){}return t.prototype.superseded=function(t,e){var n="The transition has been superseded by a different transition (see detail).",s=new a(o.SUPERSEDED,n,t);return e&&e.redirected&&(s.redirected=!0),r.extend(i.services.$q.reject(s),{reason:s})},t.prototype.redirected=function(t){return this.superseded(t,{redirected:!0})},t.prototype.invalid=function(t){var e="This transition is invalid (see detail)",n=new a(o.INVALID,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t.prototype.ignored=function(t){var e="The transition was ignored.",n=new a(o.IGNORED,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t.prototype.aborted=function(t){var e="The transition has been aborted.",n=new a(o.ABORTED,e,t);return r.extend(i.services.$q.reject(n),{reason:n})},t}();e.RejectFactory=s},function(t,e){var n=function(){function t(t,e,n,r){void 0===n&&(n={}),void 0===r&&(r={}),this._identifier=t,this._definition=e,this._options=r,this._params=n||{}}return t.prototype.name=function(){return this._definition&&this._definition.name||this._identifier},t.prototype.identifier=function(){return this._identifier},t.prototype.params=function(){return this._params},t.prototype.$state=function(){return this._definition},t.prototype.state=function(){return this._definition&&this._definition.self},t.prototype.options=function(){return this._options},t.prototype.exists=function(){return!(!this._definition||!this._definition.self)},t.prototype.valid=function(){return!this.error()},t.prototype.error=function(){var t=this.options().relative;if(!this._definition&&t){var e=t.name?t.name:t;return"Could not resolve '"+this.name()+"' from state '"+e+"'"}return this._definition?this._definition.self?void 0:"State '"+this.name()+"' has an invalid definition":"No such state '"+this.name()+"'"},t}();e.TargetState=n},function(t,e,n){var r=n(3),i=n(4),o=n(31),a=function(){function t(t,e){this.transition=t,this.$view=e,this.treeChanges=t.treeChanges(),this.enteringViews=t.views("entering"),this.exitingViews=t.views("exiting")}return t.prototype.loadAllEnteringViews=function(){var t=this,e=function(e){var n=r.find(t.treeChanges.to,r.propEq("state",e.context)).resolveInjector;return t.$view.load(e,n)};return i.services.$q.all(this.enteringViews.map(e)).then(r.noop)},t.prototype.loadAllControllerLocals=function(){var t=this,e=function(e){function n(){}var a=o.annotateController(e.controller),s=r.find(t.treeChanges.to,r.propEq("state",e.context)).resolveInjector;return n.$inject=a,i.services.$q.all(s.getLocals(n)).then(function(t){return e.locals=t})},n=this.enteringViews.filter(function(t){return!!t.controller}).map(e);return i.services.$q.all(n).then(r.noop)},t.prototype.updateViews=function(){var t=this.$view;this.exitingViews.forEach(function(e){return t.reset(e)}),this.enteringViews.forEach(function(e){return t.registerStateViewConfig(e)}),t.sync()},t.prototype.registerHooks=function(){this.enteringViews.length&&(this.transition.onStart({},this.loadAllEnteringViews.bind(this)),this.transition.onFinish({},this.loadAllControllerLocals.bind(this))),(this.exitingViews.length||this.enteringViews.length)&&this.transition.onSuccess({},this.updateViews.bind(this))},t}();e.ViewHooks=a},function(t,e,n){function r(t){var e=s.services.$injector,n=e.get("$controller"),r=e.instantiate;try{var i;return e.instantiate=function(t){e.instantiate=r,i=e.annotate(t)},n(t,{$scope:{}}),i}finally{e.instantiate=r}}function i(t,e){s.services.$injector=t,s.services.$q=e}function o(t){function e(e,n,r){return s.services.locationConfig.html5Mode=function(){var e=t.html5Mode();return e=u.isObject(e)?e.enabled:e,e&&r.history},l(["replace","url","path","search","hash"],e,s.services.location),l(["port","protocol","host"],e,s.services.locationConfig),l(["baseHref"],n,s.services.locationConfig),f}f=new a.Router,l(["hashPrefix"],t,s.services.locationConfig),this.$get=e,e.$inject=["$location","$browser","$sniffer"]}var a=n(32),s=n(4),u=n(3),c=angular.module("ui.router.angular1",[]);e.annotateController=r,i.$inject=["$injector","$q"],c.run(i);var l=function(t,e,n){return t.forEach(function(t){return n[t]=e[t].bind(e)})},f=null;o.$inject=["$locationProvider"],angular.module("ui.router.init",[]).provider("ng1UIRouter",o),angular.module("ui.router.util").provider("$urlMatcherFactory",["ng1UIRouterProvider",function(){return f.urlMatcherFactory}]),angular.module("ui.router.router").provider("$urlRouter",["ng1UIRouterProvider",function(){return f.urlRouterProvider}]),angular.module("ui.router.state").provider("$state",["ng1UIRouterProvider",function(){return f.stateProvider}]),angular.module("ui.router.init").run(["ng1UIRouter",function(t){}]),angular.module("ui.router.state").run(["$state",function(t){}]),angular.module("ui.router.util").run(["$urlMatcherFactory",function(t){}])},function(t,e,n){var r=n(33),i=n(38),o=n(14),a=function(){function t(){this.urlMatcherFactory=new r.UrlMatcherFactory,this.urlRouterProvider=new i.$UrlRouterProvider(this.urlMatcherFactory),this.stateProvider=new o.$StateProvider(this.urlRouterProvider,this.urlMatcherFactory)}return t}();e.Router=a},function(t,e,n){function r(){return{strict:o.matcherConfig.strictMode(),caseInsensitive:o.matcherConfig.caseInsensitive()}}var i=n(3),o=n(34),a=n(36),s=function(){function t(){i.extend(this,{UrlMatcher:o.UrlMatcher,Param:a.Param})}return t.prototype.caseInsensitive=function(t){return o.matcherConfig.caseInsensitive(t)},t.prototype.strictMode=function(t){return o.matcherConfig.strictMode(t)},t.prototype.defaultSquashPolicy=function(t){return o.matcherConfig.defaultSquashPolicy(t)},t.prototype.compile=function(t,e){return new o.UrlMatcher(t,i.extend(r(),e))},t.prototype.isMatcher=function(t){if(!i.isObject(t))return!1;var e=!0;return i.forEach(o.UrlMatcher.prototype,function(n,r){i.isFunction(n)&&(e=e&&i.isDefined(t[r])&&i.isFunction(t[r]))}),e},t.prototype.type=function(t,e,n){var r=a.paramTypes.type(t,e,n);return i.isDefined(e)?this:r},t.prototype.$get=function(){return a.paramTypes.enqueue=!1,a.paramTypes._flushTypeQueue(),this},t}();e.UrlMatcherFactory=s},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(35)),r(n(25)),r(n(33)),r(n(38))},function(t,e,n){function r(t,e){var n=["",""],r=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return r;switch(e.squash){case!1:n=["(",")"+(e.isOptional?"?":"")];break;case!0:n=["?(",")?"];break;default:n=["("+e.squash+"|",")?"]}return r+n[0]+e.type.pattern.source+n[1]}var i=n(3),o=n(36),a=function(t,e,n){return t[e]=t[e]||n()},s=function(){function t(e,n){var a=this;this.pattern=e,this.config=n,this._cache={path:[],pattern:null},this._children=[],this._params=[],this._segments=[],this._compiled=[],this.config=i.defaults(this.config,{params:{},strict:!0,caseInsensitive:!1,paramMap:i.identity});for(var s,u,c,l=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,f=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:\s*((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,p=0,h=[],v=function(n){if(!t.nameValidator.test(n))throw new Error("Invalid parameter name '"+n+"' in pattern '"+e+"'");if(i.find(a._params,i.propEq("id",n)))throw new Error("Duplicate parameter name '"+n+"' in pattern '"+e+"'")},d=function(t,n){var r=t[2]||t[3],s=n?t[4]:t[4]||("*"===t[1]?".*":null);return{id:r,regexp:s,cfg:a.config.params[r],segment:e.substring(p,t.index),type:s?o.paramTypes.type(s||"string")||i.inherit(o.paramTypes.type("string"),{pattern:new RegExp(s,a.config.caseInsensitive?"i":void 0)}):null}};(s=l.exec(e))&&(u=d(s,!1),!(u.segment.indexOf("?")>=0));)v(u.id),this._params.push(o.Param.fromPath(u.id,u.type,this.config.paramMap(u.cfg,!1))),this._segments.push(u.segment),h.push([u.segment,i.tail(this._params)]),p=l.lastIndex;c=e.substring(p);var m=c.indexOf("?");if(m>=0){var g=c.substring(m);if(c=c.substring(0,m),g.length>0)for(p=0;s=f.exec(g);)u=d(s,!0),v(u.id),this._params.push(o.Param.fromSearch(u.id,u.type,this.config.paramMap(u.cfg,!0))),p=l.lastIndex}this._segments.push(c),i.extend(this,{_compiled:h.map(function(t){return r.apply(null,t)}).concat(r(c)),prefix:this._segments[0]}),Object.freeze(this)}return t.prototype.append=function(t){return this._children.push(t),i.forEach(t._cache,function(e,n){return t._cache[n]=i.isArray(e)?[]:null}),t._cache.path=this._cache.path.concat(this),t},t.prototype.isRoot=function(){return 0===this._cache.path.length},t.prototype.toString=function(){return this.pattern},t.prototype.exec=function(t,e,n,r){function o(t){var e=function(t){return t.split("").reverse().join("")},n=function(t){return t.replace(/\\-/g,"-")},r=e(t).split(/-(?!\\)/),o=i.map(r,e);return i.map(o,n).reverse()}var s=this;void 0===e&&(e={}),void 0===r&&(r={});var u=a(this._cache,"pattern",function(){return new RegExp(["^",i.unnest(s._cache.path.concat(s).map(i.prop("_compiled"))).join(""),s.config.strict===!1?"/?":"","$"].join(""),s.config.caseInsensitive?"i":void 0)}).exec(t);if(!u)return null;var c=this.parameters(),l=c.filter(function(t){return!t.isSearch()}),f=c.filter(function(t){return t.isSearch()}),p=this._cache.path.concat(this).map(function(t){return t._segments.length-1}).reduce(function(t,e){return t+e}),h={};if(p!==u.length-1)throw new Error("Unbalanced capture group in route '"+this.pattern+"'");for(var v=0;p>v;v++){for(var d=l[v],m=u[v+1],g=0;g<d.replace;g++)d.replace[g].from===m&&(m=d.replace[g].to);m&&d.array===!0&&(m=o(m)),h[d.id]=d.value(m)}return i.forEach(f,function(t){h[t.id]=t.value(e[t.id])}),n&&(h["#"]=n),h},t.prototype.parameters=function(t){return void 0===t&&(t={}),t.inherit===!1?this._params:i.unnest(this._cache.path.concat(this).map(i.prop("_params")))},t.prototype.parameter=function(t,e){void 0===e&&(e={});var n=i.tail(this._cache.path);return i.find(this._params,i.propEq("id",t))||e.inherit!==!1&&n&&n.parameter(t)||null},t.prototype.validates=function(t){var e=this,n=function(t,e){return!t||t.validates(e)};return i.pairs(t||{}).map(function(t){var r=t[0],i=t[1];return n(e.parameter(r),i)}).reduce(i.allTrueR,!0)},t.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}void 0===t&&(t={});var n=this._segments,r=n[0],o=!1,a=this.parameters({inherit:!1}),s=i.tail(this._cache.path);if(!this.validates(t))return null;a.map(function(a,s){var u=s<n.length-1,c=a.value(t[a.id]),l=a.isDefaultValue(c),f=l?a.squash:!1,p=a.type.encode(c);if(!u){if(null==p||l&&f!==!1)return;return i.isArray(p)||(p=[p]),p=i.map(p,encodeURIComponent).join("&"+a.id+"="),r+=(o?"&":"?")+(a.id+"="+p),void(o=!0)}r+=function(t,n){return f===!0?t.match(n.match(/\/$/)?/\/?(.*)/:/(.*)/)[1]:i.isString(f)?f+t:f!==!1?"":null==p?t:i.isArray(p)?i.map(p,e).join("-")+t:a.type.raw?p+t:encodeURIComponent(p)+t}(n[s+1],r)}),t["#"]&&(r+="#"+t["#"]);var u=["#"].concat(a.map(i.prop("id")));return(s&&s.format(i.omit(t,u))||"")+r},t.nameValidator=/^\w+(-+\w+)*(?:\[\])?$/,t}();e.UrlMatcher=s},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(24)),r(n(27)),r(n(37)),r(n(26))},function(t,e,n){function r(){function t(){function t(t,e){return function(){i.forEach(t.split(" "),function(t){return n[t].splice(n[t].indexOf(e),1)})}}function e(t,e){n[t]&&n[t].length&&i.forEach(n[t],function(t){return t(e)})}var n={},r={};return o.prototype.$digest=function(){var t=this;i.forEach(this,function(n,i){n!==r[i]&&t.hasOwnProperty(i)&&(r[i]=n,e(i,n))})},o.prototype.$inherit=function(t,e,n){var r,o=i.ancestors(e,n),a={},s=[];for(var u in o)if(o[u].params&&(r=Object.keys(o[u].params),r.length))for(var c in r)s.indexOf(r[c])>=0||(s.push(r[c]),a[r[c]]=this[r[c]]);return i.extend({},a,t)},o.prototype.$set=function(t,n){var r=this,o=!1,a=!1;return n&&i.forEach(t,function(t,e){(n.parameter(e)||{}).dynamic!==!0&&(a=!0)}),a?!1:(i.forEach(t,function(t,n){t!==r[n]&&(r[n]=t,e(n),o=!0)}),this.$sync(),o)},o.prototype.$sync=function(){return i.copy(this,r),this},o.prototype.$off=function(){return n={},this},o.prototype.$raw=function(){return i.omit(this,Object.keys(this).filter(o.prototype.hasOwnProperty.bind(o.prototype)))},o.prototype.$localize=function(t,e){return new o(i.pick(e||this,Object.keys(t.params)))},o.prototype.$observe=function(e,r){return i.forEach(e.split(" "),function(t){return(n[t]||(n[t]=[])).push(r)}),t(e,r)},new o}function e(t){return t.$watch(function(){n.$digest()}),n}var n=t();this.$get=e,e.$inject=["$rootScope"]}var i=n(3),o=function(){function t(t){void 0===t&&(t={}),i.extend(this,t)}return t.prototype.$digest=function(){},t.prototype.$inherit=function(t,e,n){},t.prototype.$set=function(t,e){},t.prototype.$sync=function(){},t.prototype.$off=function(){},t.prototype.$raw=function(){},t.prototype.$localize=function(t,e){},t.prototype.$observe=function(t,e){},t}();e.StateParams=o,r.$inject=[],angular.module("ui.router.state").provider("$stateParams",r)},function(t,e,n){function r(t){function e(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function n(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function r(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return i.isDefined(r)?r:!0}function s(t){function e(t,e,n){var r=o.services.locationConfig.baseHref();return"/"===r?t:e?r.slice(0,-1)+t:n?r.slice(1)+t:t}function n(t){function e(t){var e=t(o.services.$injector,a);return e?(i.isString(e)&&(a.replace(),a.url(e)),!0):!1}if(!t||!t.defaultPrevented){var n,r=c.length;for(n=0;r>n;n++)if(e(c[n]))return;l&&e(l)}}function r(){return u=u||t.$on("$locationChangeSuccess",n)}var s=a.url();return f||r(),{sync:function(){n()},listen:function(){return r()},update:function(t){return t?void(s=a.url()):void(a.url()!==s&&(a.url(s),a.replace()))},push:function(t,e,n){a.url(t.format(e||{})),n&&n.replace&&a.replace()},href:function(t,n,r){if(!t.validates(n))return null;var i=t.format(n);r=r||{};var a=o.services.locationConfig,s=a.html5Mode();if(s||null===i||(i="#"+a.hashPrefix()+i),i=e(i,s,r.absolute),!r.absolute||!i)return i;var u=!s&&i?"/":"",c=a.port();return c=80===c||443===c?"":":"+c,[a.protocol(),"://",a.host(),c,u,i].join("")}}}var u,c=[],l=null,f=!1;this.rule=function(t){if(!i.isFunction(t))throw new Error("'rule' must be a function");return c.push(t),this},this.otherwise=function(t){if(!i.isFunction(t)&&!i.isString(t))throw new Error("'rule' must be a string or function");return l=i.isString(t)?function(){return t}:t,this},this.when=function(s,u){var c,l=i.isString(u);if(i.isString(s)&&(s=t.compile(s)),!l&&!i.isFunction(u)&&!i.isArray(u))throw new Error("invalid 'handler' in when()");var f={matcher:function(e,n){return l&&(c=t.compile(n),n=["$match",c.format.bind(c)]),i.extend(function(){return r(o.services.$injector,n,e.exec(a.path(),a.search(),a.hash()))},{prefix:i.isString(e.prefix)?e.prefix:""})},regex:function(t,s){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return l&&(c=s,s=["$match",function(t){return n(c,t)}]),i.extend(function(){return r(o.services.$injector,s,t.exec(a.path()))},{prefix:e(t)})}},p={matcher:t.isMatcher(s),regex:s instanceof RegExp};for(var h in p)if(p[h])return this.rule(f[h](s,u));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){void 0===t&&(t=!0),f=t},this.$get=s,s.$inject=["$rootScope"]}var i=n(3),o=n(4),a=o.services.location;e.$UrlRouterProvider=r},function(t,e){var n=function(){function t(t){this.transition=t}return t.prototype.registerHooks=function(){this.registerOnEnterHooks(),this.registerOnRetainHooks(),this.registerOnExitHooks()},t.prototype.registerOnEnterHooks=function(){var t=this,e=function(e){return t.transition.onEnter({to:e.name},e.onEnter)};this.transition.entering().filter(function(t){return!!t.onEnter}).forEach(e)},t.prototype.registerOnRetainHooks=function(){var t=this,e=function(e){return t.transition.onRetain({},e.onRetain)};this.transition.retained().filter(function(t){return!!t.onRetain}).forEach(e)},t.prototype.registerOnExitHooks=function(){var t=this,e=function(e){return t.transition.onExit({from:e.name},e.onExit)};this.transition.exiting().filter(function(t){return!!t.onExit}).forEach(e)},t}();e.EnterExitHooks=n},function(t,e,n){var r=n(3),i=n(19),o=i.ResolvePolicy[i.ResolvePolicy.LAZY],a=i.ResolvePolicy[i.ResolvePolicy.EAGER],s=function(){function t(t){this.transition=t}return t.prototype.registerHooks=function(){function t(t){return r.tail(n.to).resolveContext.resolvePath(r.extend({transition:t},{resolvePolicy:a}))}function e(t,e){var i=r.find(n.entering,r.propEq("state",t));return i.resolveContext.resolvePathElement(i.state,r.extend({transition:e},{resolvePolicy:o}))}var n=this.transition.treeChanges();t.$inject=["$transition$"],e.$inject=["$state$","$transition$"],this.transition.onStart({},t,{priority:1e3}),this.transition.onEnter({},e,{priority:1e3})},t}();e.ResolveHooks=s},function(t,e,n){var r=n(3),i=n(36),o=function(t){if(!r.isString(t))return!1;var e="^"===t.charAt(0);return{val:e?t.substring(1):t,root:e}},a=function(){function t(t,e,n){this.matcher=e;var a=this;this.builders={parent:[function(n){return n===t()?null:e.find(a.parentName(n))||t()}],data:[function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=r.extend({},t.parent.data,t.data)),t.data}],url:[function(e){var i=e,a=o(i.url),s=e.parent,u=a?n.compile(a.val,{params:e.params||{},paramMap:function(t,e){return i.reloadOnSearch===!1&&e&&(t=r.extend(t||{},{dynamic:!0})),t}}):i.url;if(!u)return null;if(!n.isMatcher(u))throw new Error("Invalid url '"+u+"' in state '"+e+"'");return a&&a.root?u:(s&&s.navigable||t()).url.append(u)}],navigable:[function(e){return e!==t()&&e.url?e:e.parent?e.parent.navigable:null;
}],params:[function(t){var e=function(t,e){return i.Param.fromConfig(e,null,t)},n=t.url&&t.url.parameters({inherit:!1})||[],o=r.values(r.map(r.omit(t.params||{},n.map(r.prop("id"))),e));return n.concat(o).map(function(t){return[t.id,t]}).reduce(r.applyPairs,{})}],views:[function(t){var e={},n=["templateProvider","templateUrl","template","notify","async"],i=["controller","controllerProvider","controllerAs"],o=n.concat(i);return r.forEach(t.views||{$default:r.pick(t,o)},function(n,o){o=o||"$default",r.forEach(i,function(e){t[e]&&!n[e]&&(n[e]=t[e])}),Object.keys(n).length>0&&(e[o]=n)}),e}],path:[function(t){return t.parent?t.parent.path.concat(t):[t]}],includes:[function(t){var e=t.parent?r.extend({},t.parent.includes):{};return e[t.name]=!0,e}]}}return t.prototype.builder=function(t,e){var n=this.builders,i=n[t]||[];return r.isString(t)&&!r.isDefined(e)?i.length>1?i:i[0]:r.isString(t)&&r.isFunction(e)?(n[t]=i,n[t].push(e),function(){return n[t].splice(n[t].indexOf(e,1))&&null}):void 0},t.prototype.build=function(t){var e=this,n=e.matcher,i=e.builders,o=this.parentName(t);if(o&&!n.find(o))return null;for(var a in i)if(i.hasOwnProperty(a)){var s=i[a].reduce(function(t,e){return function(n){return e(n,t)}},r.noop);t[a]=s(t)}return t},t.prototype.parentName=function(t){var e=t.name||"";return-1!==e.indexOf(".")?e.substring(0,e.lastIndexOf(".")):t.parent?r.isString(t.parent)?t.parent:t.parent.name:""},t.prototype.name=function(t){var e=t.name;if(-1!==e.indexOf(".")||!t.parent)return e;var n=r.isString(t.parent)?t.parent:t.parent.name;return n?n+"."+e:e},t}();e.StateBuilder=a},function(t,e,n){function r(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function i(t){var e=t.parent().inheritedData("$uiView");return e&&e.context&&e.context.name?e.context:void 0}function o(t,e){return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(n,o,a,c){var l=r(a.uiSref,t.current.name),f=null,p=i(o)||t.$current,h=null,v="A"===o.prop("tagName"),d="FORM"===o[0].nodeName,m=d?"action":"href",g=!0,y=n.$eval(a.uiSrefOpts),$={relative:p,inherit:!0},w=s.defaults(y,$,u.defaultTransOpts),b=function(e){if(e&&(f=s.copy(e)),g){h=t.href(l.state,f,w);var n=c[1]||c[0];return n&&n.$$addStateInfo(l.state,f),null===h?(g=!1,!1):void a.$set(m,h)}};l.paramExpr&&(n.$watch(l.paramExpr,function(t){t!==f&&b(t)},!0),f=s.copy(n.$eval(l.paramExpr))),b(),d||o.bind("click",function(n){var r=n.which||n.button;if(!(r>1||n.ctrlKey||n.metaKey||n.shiftKey||o.attr("target"))){var i=e(function(){t.go(l.state,f,w)});n.preventDefault();var a=v&&!h?1:0;n.preventDefault=function(){a--<=0&&e.cancel(i)}}})}}}function a(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs","$timeout","$transitions",function(e,o,a,u,c){function l(e,n,r){var a=t.get(e,i(o)),s=p(e,n);$.push({state:a||{name:e},params:n,hash:s}),w[s]=r}function f(t){t.promise.then(h)}function p(t,n){if(!s.isString(t))throw new Error("state should be a string");return s.isObject(n)?t+s.toJson(n):(n=e.$eval(n),s.isObject(n)?t+s.toJson(n):t)}function h(){for(var t=0;t<$.length;t++)m($[t].state,$[t].params)?v(o,w[$[t].hash]):d(o,w[$[t].hash]),g($[t].state,$[t].params)?v(o,y):d(o,y)}function v(t,e){u(function(){t.addClass(e)})}function d(t,e){t.removeClass(e)}function m(e,n){return t.includes(e.name,n)}function g(e,n){return t.is(e.name,n)}var y,$=[],w={};y=n(a.uiSrefActiveEq||"",!1)(e);var b=e.$eval(a.uiSrefActive)||n(a.uiSrefActive||"",!1)(e);s.isObject(b)&&s.forEach(b,function(n,i){if(s.isString(n)){var o=r(n,t.current.name);l(o.state,e.$eval(o.paramExpr),i)}}),this.$$addStateInfo=function(t,e){s.isObject(b)&&$.length>0||(l(t,e,b),h())},e.$on("$stateChangeSuccess",h),f.$inject=["$transition$"];var x=c.onStart({},f);e.$on("$destroy",x)}]}}var s=n(3),u=n(9);o.$inject=["$state","$timeout"],a.$inject=["$state","$stateParams","$interpolate"],angular.module("ui.router.state").directive("uiSref",o).directive("uiSrefActive",a).directive("uiSrefActiveEq",a)},function(t,e){function n(t){return function(e){return t.is(e)}}function r(t){return function(e,n,r){return t.includes(e,n,r)}}n.$inject=["$state"],e.$IsStateFilter=n,r.$inject=["$state"],e.$IncludedByStateFilter=r,angular.module("ui.router.state").filter("isState",n).filter("includedByState",r)},function(t,e,n){var r=n(2),i=function(){function t(t){r.extend(this,t)}return t.prototype.is=function(t){return this===t||this.self===t||this.fqn()===t},t.prototype.fqn=function(){if(!(this.parent&&this.parent instanceof this.constructor))return this.name;var t=this.parent.fqn();return t?t+"."+this.name:this.name},t.prototype.root=function(){return this.parent&&this.parent.root()||this},t.prototype.parameters=function(t){t=r.defaults(t,{inherit:!0});var e=t.inherit&&this.parent&&this.parent.parameters()||[];return e.concat(r.values(this.params))},t.prototype.parameter=function(t,e){return void 0===e&&(e={}),this.url&&this.url.parameter(t,e)||r.find(r.values(this.params),r.propEq("id",t))||e.inherit&&this.parent&&this.parent.parameter(t)},t.prototype.toString=function(){return this.fqn()},t}();e.State=i},function(t,e,n){var r=n(3),i=function(){function t(t){this._states=t}return t.prototype.isRelative=function(t){return t=t||"",0===t.indexOf(".")||0===t.indexOf("^")},t.prototype.find=function(t,e){if(t||""===t){var n=r.isString(t),i=n?t:t.name;this.isRelative(i)&&(i=this.resolvePath(i,e));var o=this._states[i];return!o||!n&&(n||o!==t&&o.self!==t)?void 0:o}},t.prototype.resolvePath=function(t,e){if(!e)throw new Error("No reference point given for path '"+t+"'");for(var n=this.find(e),r=t.split("."),i=0,o=r.length,a=n;o>i;i++)if(""!==r[i]||0!==i){if("^"!==r[i])break;if(!a.parent)throw new Error("Path '"+t+"' not valid for state '"+n.name+"'");a=a.parent}else a=n;var s=r.slice(i).join(".");return a.name+(a.name&&s?".":"")+s},t}();e.StateMatcher=i},function(t,e,n){var r=n(3),i=n(12),o=function(){function t(t,e,n,r){this.states=t,this.builder=e,this.$urlRouterProvider=n,this.$state=r,this.autoFlush=!1,this.queue=[]}return t.prototype.register=function(t,e){var n=this,o=n.states,a=n.queue,s=n.$state,u=r.inherit(new i.State,r.extend({},t,{self:t,resolve:t.resolve||{},toString:function(){return t.name}}));if(!r.isString(u.name))throw new Error("State must have a valid name");if(o.hasOwnProperty(u.name)||-1!==r.pluck(a,"name").indexOf(u.name))throw new Error("State '"+u.name+"' is already defined");return a[e?"unshift":"push"](u),this.autoFlush&&this.flush(s),u},t.prototype.flush=function(t){for(var e,n,r,i=this,o=i.queue,a=i.states,s=i.builder,u=[],c={};o.length>0;)if(n=o.shift(),e=s.build(n),r=u.indexOf(n),e){if(a.hasOwnProperty(n.name))throw new Error("State '"+name+"' is already defined");a[n.name]=n,this.attachRoute(t,n),r>=0&&u.splice(r,1)}else{var l=c[n.name];if(c[n.name]=o.length,r>=0&&l===o.length)throw new Error("Cannot register orphaned state '"+n.name+"'");0>r&&u.push(n),o.push(n)}return a},t.prototype.attachRoute=function(t,e){var n=this.$urlRouterProvider;!e[r.abstractKey]&&e.url&&n.when(e.url,["$match","$stateParams",function(n,i){t.$current.navigable===e&&r.equalForKeys(n,i)||t.transitionTo(e,n,{inherit:!0,location:!1})}])},t}();e.StateQueueManager=o},function(t,e,n){var r=n(3),i=n(6),o=n(4),a=n(28),s=n(12),u=new a.RejectFactory,c={async:!0,rejectIfSuperseded:!0,current:r.noop,transition:null,traceData:{}},l=function(){function t(t,e,n,o){var a=this;this.fn=t,this.locals=e,this.resolveContext=n,this.options=o,this.isSuperseded=function(){return a.options.current()!==a.options.transition},this.mapHookResult=r.pattern([[this.isSuperseded,function(){return u.superseded(a.options.current())}],[r.eq(!1),r.val(u.aborted("Hook aborted transition"))],[r.is(s.TargetState),function(t){return u.redirected(t)}],[r.isPromise,function(t){return t.then(a.handleHookResult.bind(a))}]]),this.invokeStep=function(t){var e=a,n=e.options,o=e.fn,s=e.resolveContext,c=r.extend({},a.locals,t);if(i.trace.traceHookInvocation(a,n),n.rejectIfSuperseded&&a.isSuperseded())return u.superseded(n.current());if(!n.async){var l=s.invokeNow(o,c,n);return a.handleHookResult(l)}return s.invokeLater(o,c,n).then(a.handleHookResult.bind(a))},this.options=r.defaults(o,c)}return t.prototype.handleHookResult=function(t){if(r.isDefined(t)){i.trace.traceHookResult(t,void 0,this.options);var e=this.mapHookResult(t);return e&&i.trace.traceHookResult(t,e,this.options),e}},t.prototype.toString=function(){var t=this,e=t.options,n=t.fn,i=r.parse("traceData.hookType")(e)||"internal",o=r.parse("traceData.context.state.name")(e)||r.parse("traceData.context")(e)||"unknown",a=r.fnToString(n);return i+" context: "+o+", "+r.maxLength(200,a)},t.runSynchronousHooks=function(e,n,i){void 0===n&&(n={}),void 0===i&&(i=!1);for(var a=[],s=0;s<e.length;s++)try{a.push(e[s].invokeStep(n))}catch(u){if(!i)throw u;console.log("Swallowed exception during synchronous hook handler: "+u)}var c=a.filter(t.isRejection);return c.length?c[0]:a.filter(r.not(t.isRejection)).filter(r.isPromise).reduce(function(t,e){return t.then(r.val(e))},o.services.$q.when())},t.isRejection=function(t){return t&&t.reason instanceof a.TransitionRejection&&t},t}();e.TransitionHook=l},function(t,e,n){function r(){this._reinit.bind(e.$transitions)(),this.$get=function(){return e.$transitions}}var i=n(8),o=n(11);e.defaultTransOpts={location:!0,relative:null,inherit:!1,notify:!0,reload:!1,custom:{},current:function(){return null}};var a=function(){function t(){this._defaultErrorHandler=function(t){t instanceof Error&&console.log(t)},this._reinit()}return t.prototype.defaultErrorHandler=function(t){return this._defaultErrorHandler=t||this._defaultErrorHandler},t.prototype._reinit=function(){o.HookRegistry.mixin(new o.HookRegistry,this)},t.prototype.create=function(t,e){return new i.Transition(t,e)},t}();e.$transitions=new a,r.prototype=e.$transitions,e.$transitionsProvider=r,angular.module("ui.router.state").provider("$transitions",e.$transitionsProvider)},function(t,e,n){function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}r(n(50)),r(n(21)),r(n(51)),r(n(52))},function(t,e,n){function r(t,e){this.fromConfig=function(t,e,n){return i.isDefined(t.template)?this.fromString(t.template,e):i.isDefined(t.templateUrl)?this.fromUrl(t.templateUrl,e):i.isDefined(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return i.isFunction(t)?t(e):t},this.fromUrl=function(n,r){return i.isFunction(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(i.prop("data"))},this.fromProvider=function(t,e,n){return n(t)}}var i=n(3);r.$inject=["$http","$templateCache"],angular.module("ui.router.util").service("$templateFactory",r)},function(t,e,n){function r(t,e,n,r,i){function s(t,n){return{enter:function(t,n,r){angular.version.minor>2?e.enter(t,null,n).then(r):e.enter(t,null,n,r)},leave:function(t,n){angular.version.minor>2?e.leave(t).then(n):e.leave(t,n)}}}function u(t,e){return t===e}var c={context:t.rootContext()},l={count:0,restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(e,i,f){return function(e,i,p){function h(t){u(E,t)||(a.trace.traceUiViewConfigUpdated(k,t&&t.context),E=t,d(t))}function v(){m&&(a.trace.traceUiViewEvent("Removing    (previous) el",k),m.remove(),m=null),y&&(a.trace.traceUiViewEvent("Destroying  (previous) scope",k),y.$destroy(),y=null),g&&(a.trace.traceUiViewEvent("Animate out (previous)",k),x.leave(g,function(){m=null}),m=g,g=null)}function d(t){t=t||{};var r=e.$new();a.trace.traceUiViewScopeCreated(k,r),o.extend(k,{context:t.context,$template:t.template,$controller:t.controller,$controllerAs:t.controllerAs,$locals:t.locals});var s=f(r,function(t){x.enter(t.data("$uiView",k),i,function(){y&&y.$emit("$viewContentAnimationEnded"),(o.isDefined(b)&&!b||e.$eval(b))&&n(t)}),v()});g=s,y=r,y.$emit("$viewContentLoaded",t||E),y.$eval(w)}var m,g,y,$,w=p.onload||"",b=p.autoscroll,x=s(p,e),E=void 0,S=i.inheritedData("$uiView")||c,R=r(p.uiView||p.name||"")(e)||"$default",k={id:l.count++,name:R,fqn:S.name?S.fqn+"."+R:R,config:null,configUpdated:h,get creationContext(){return S.context}};a.trace.traceUiViewEvent("Linking",k),i.data("$uiView",k),d(),$=t.registerUiView(k),e.$on("$destroy",function(){a.trace.traceUiViewEvent("Destroying/Unregistering",k),$()})}}};return l}function i(t,e,n,r,i){return{restrict:"ECA",priority:-400,compile:function(n){var r=n.html();return function(n,i){var s=i.data("$uiView");if(s){i.html(s.$template||r),a.trace.traceUiViewFill(s,i.html());var u=t(i.contents()),c=s.$controller,l=s.$controllerAs;if(c){var f=s.$locals,p=e(c,o.extend(f,{$scope:n}));l&&(n[l]=p),i.data("$ngControllerController",p),i.children().data("$ngControllerController",p)}u(n)}}}}}var o=n(3),a=n(6);r.$inject=["$view","$animate","$uiViewScroll","$interpolate","$q"],i.$inject=["$compile","$controller","$interpolate","$injector","$q"],angular.module("ui.router.state").directive("uiView",r),angular.module("ui.router.state").directive("uiView",i)},function(t,e){function n(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}angular.module("ui.router.state").provider("$uiViewScroll",n)}])});